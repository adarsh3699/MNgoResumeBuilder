<html>
<head>
	<title>MNgo Resume Builder</title>
	<link rel="icon" href="images/logo.png" />

	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/scroll.css">
	<link rel="stylesheet" type="text/css" href="css/theme.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">

	<meta name="viewport" content="width=device-width, initial-scale= 1">	
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta name="author" content="Aditya Suman">	
</head>

<body>
<!---------preloader area------->
	<div class="preloader_container"></div>

<!-------main window--------->
	<div class="container-fluid" id="main_window">
		<div class="row">
		<!------left page----->
			<div class="col-sm-9 text-center" id="left">
				<div id="page" class="verdana-sans" contenteditable="true" style="line-height: 1.3em; padding: 0cm .25cm .25cm">
					
					<div class="row" id="sectionInfo">
						<div style="display: block" id="image_box">
							<img src="./images/iitp_logo.png" height="80" width="80">
						</div>

						<div class="row" style=" ">
							<div class="col-sm-5" style="margin-top: 10px; margin-left: 10px; ">
								<div id="contentName">
									<span id="fName">fName</span> <span id="sName">sName</span>
								</div>
								<ul class="light plain_list" id="contactLink" >contactLink</ul>
							</div>

							<ul class="col-sm-5 plain_list light" id="contacts" style="text-align: right; margin-top: 10px; float: right">contacts</ul>
						</div>
					</div>

				
					<div class="section" id="sectionEducation">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Education</strong></h4>
							<hr class="hr-below">
						</div>
						<ul class="nobullet">
							<li>
								<table class="table customBordered" id="educationTable">
									<tbody id="education">
									</tbody>
								</table>
							</li>
						</ul>
					</div>


					<div class="section" id="sectionExperience">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Experience</strong></h4>
							<hr class="hr-below">
						</div>
						<ul style="padding-left: 30px;" class="disc" id="experience">
						</ul>
					</div>


					<div class="section" id="sectionPublications" style="display: none;">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Publications</strong></h4>
							<hr class="hr-below">
						</div>
						<ul id="publications">
						</ul>
					</div>


					<div class="section" id="sectionProjects">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Projects</strong></h4>
							<hr class="hr-below">
						</div>
						<ul style="padding-left: 30px;" id="projects" class="disc">
						</ul>
					</div>

				
					<div class="section" id="sectionSkills">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Technical skills</strong></h4>
							<hr class="hr-below">
						</div>
						<ul style="padding-left: 10px;" id="skills">
						</ul>
					</div>


					<div class="section" id="sectionResponsibility">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Positions of Responsibility</strong></h4>
							<hr class="hr-below">
						</div>
						<ul style="padding-left: 10px;" id="pors">
						</ul>
					</div>


					<div class="section" id="sectionAchievements">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Achievements</strong></h4>
							<hr class="hr-below">
						</div>
						<ul style="padding-left: 10px;" id="achievements">
						</ul>
					</div>

				
					<div class="section" id="sectionCourses" style="display: none;">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Key courses taken</strong></h4>
							<hr class="hr-below">
						</div>
						<ul id="courses">
						</ul>
					</div>

				
					<div class="section" id="sectionCurricular" style="display: none;">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h4><strong>Extra-curriculars</strong></h4>
							<hr class="hr-below">
						</div>
						<ul id="cirrculars">
							<li>
								<span class="title">ABC workshop : </span>
								<span class="text">Attended a 3-day workshop on Image sensing satellute development.</span>
							</li>
						</ul>
					</div>

					<div class="section" id="sectionFooterMessage" style="display: none;">
						<div class="section-title rule-above ruled">
							<hr class="hr-above">
							<h6 style="margin-left: 20px; "><strong id="footerMsg">your footer message</strong></h6>
						</div>
					</div>
				</div>
			</div>
		
		<!------right panel----->
			<div class="col-sm-3 no-print" id="right">
				<div id="panel">
					<button class="btn btn-block btn-primary" id="save_btn" >Save</button>
					<button class="btn btn-block btn-success" onclick="window.print()">Print PDF</button>
					<hr>
					
					<div id="customTemplateOptions" style="display: block;">
						<h5>
							Horizontal margin
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="margin" id="margin1">1</div>
								<div class="toggle-option" data-toggle="margin" id="margin2">2</div>
								<div class="toggle-option" data-toggle="margin" id="margin3">3</div>
								<div class="toggle-option" data-toggle="margin" id="margin4">4</div>
								<div class="toggle-option" data-toggle="margin" id="margin5">5</div>
								<div class="toggle-option" data-toggle="margin" id="margin6">6</div>
							</div>
						</h5>

						<h5>
							Line spacing
							<div class="toggle-button">
								<div class="toggle-option" data-toggle="line" id="line1">1</div>
								<div class="toggle-option" data-toggle="line" id="line2">2</div>
								<div class="toggle-option selected" data-toggle="line" id="line3">3</div>
								<div class="toggle-option" data-toggle="line" id="line4">4</div>
								<div class="toggle-option" data-toggle="line" id="line5">5</div>
								<div class="toggle-option" data-toggle="line" id="line6">6</div>
							</div>
						</h5>

						<h5>
							Font type
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="font" id="fontVerdanaSans">1</div>
								<div class="toggle-option" data-toggle="font" id="fontVerdanaSerif">2</div>
								<div class="toggle-option" data-toggle="font" id="fontRoboto">3</div>
								<div class="toggle-option" data-toggle="font" id="fontDroid">4</div>
							</div>
						</h5>
						<h5>
							Title case
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="case" id="caseNormal">Default</div>
								<div class="toggle-option" data-toggle="case" id="caseUpper">Uppercase</div>
							</div>
						</h5>
						<h5>
							Title style
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="title" id="titleRuled">Ruled</div>
								<div class="toggle-option" data-toggle="title" id="titleShaded">Shaded</div>
							</div>
						</h5>
						<h5>
							Title rule position
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="rule" id="ruleAbove">Above title</div>
								<div class="toggle-option" data-toggle="rule" id="ruleBelow">Below title</div>
							</div>
						</h5>
						<h5>
							Table border
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="table" id="tableShow">Show</div>
								<div class="toggle-option" data-toggle="table" id="tableHide">Hide</div>
							</div>
						</h5>
					</div>
					<hr>
					<div id="print">sas</div>

					<div>
						<h5>
							Image
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="image" id="imageShow">Show</div>
								<div class="toggle-option" data-toggle="image" id="imageHide">Hide</div>
							</div>
						</h5>
						<br>

						<h5>
							Add Education Row
							<div class="toggle-button">
								<div class="toggle-option selected add_educ_row" >First</div>
								<div class="toggle-option selected add_educ_row" >Last</div>
							</div>
						</h5>

						<h5>
							Add Experience Row
							<div class="toggle-button">
								<div class="toggle-option selected add_exp_row">First</div>
								<div class="toggle-option selected add_exp_row">Last</div>
							</div>
						</h5>

						<h5>
							Add Projects Row
							<div class="toggle-button">
								<div class="toggle-option selected add_projects_row">First</div>
								<div class="toggle-option selected add_projects_row">Last</div>
							</div>
						</h5>

						<h5>
							Add Skills Row
							<div class="toggle-button">
								<div class="toggle-option selected add_skills_row">First</div>
								<div class="toggle-option selected add_skills_row">Last</div>
							</div>
						</h5>
						
						<h5>
							Add POR Row
							<div class="toggle-button">
								<div class="toggle-option selected add_por_row">First</div>
								<div class="toggle-option selected add_por_row">Last</div>
							</div>
						</h5>

						<h5>
							Add Achievements Row
							<div class="toggle-button">
								<div class="toggle-option selected add_achieve_row">First</div>
								<div class="toggle-option selected add_achieve_row">Last</div>
							</div>
						</h5>
						<br/>

						<h5>
							Publications Layout
							<div class="toggle-button">
								<div class="toggle-option publication_visibility">Show</div>
								<div class="toggle-option selected publication_visibility">Hide</div>
							</div>
						</h5>

						<h5>
							Courses Layout
							<div class="toggle-button">
								<div class="toggle-option courses_visibility">Show</div>
								<div class="toggle-option selected courses_visibility">Hide</div>
							</div>
						</h5>

						<h5>
							Extracurricular Layout
							<div class="toggle-button">
								<div class="toggle-option circular_visibility">Show</div>
								<div class="toggle-option selected circular_visibility">Hide</div>
							</div>
						</h5>

						<h5>
							Footer 
							<div class="toggle-button">
								<div class="toggle-option footer_visibility">Show</div>
								<div class="toggle-option selected footer_visibility">Hide</div>
							</div>
						</h5>
						<br/>

						<h5>
							Education year column
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="edyear" id="edyearFirst">First</div>
								<div class="toggle-option" data-toggle="edyear" id="edyearLat">Last</div>
							</div>
						</h5>

						<h5>
							Experience layout
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="experience" id="experience1">L1</div>
								<div class="toggle-option" data-toggle="experience" id="experience2">L2</div>
							</div>
						</h5>

						<h5>
							Projects layout
							<div class="toggle-button">
								<div class="toggle-option selected" data-toggle="projects" id="projects1">L1</div>
								<div class="toggle-option" data-toggle="projects" id="projects2">L2</div>
							</div>
						</h5>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="sectionToggleModal" tabindex="-1" style="display: none;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-body">
					<button type="button" class="close" data-dismiss="modal">Ã—</button>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionEducation">Education</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionExperience">Experience</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" value="sectionPublications">Publications</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionProjects">Projects</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionSkills">Technical Skills</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionResponsibility">Positions of Responsibility</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" checked="true" value="sectionAchievements">Achievements</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" value="sectionCourses">Key courses taken</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" value="sectionCurricular">Extra curriculars</label></div>
					<div class="checkbox"><label><input type="checkbox" name="sectionToggle" value="sectionFooterMessage">References message</label></div>
				</div>
			</div>
		</div>
	</div>

<!---------scripts-------->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript">
	//displaying preloader
		$('.preloader_container').load('preloader.html');

	//removing context menu
		document.addEventListener('contextmenu', event => event.preventDefault());

	//getting the stored data from data.json file
		$.ajax({
	        type: "GET",
	        url: "data.json",
	        dataType: "json",
	        success: function(data) {
	        //if some data exist
	        	if(data) {
	        		var jsonData = data[0];
	            	updateUI(jsonData);
	        	}

	        //removing preloader
	            setTimeout(function()
				{
					$('.preloader_container').css('z-index', '100').slideUp(200);
				}, 200);
	        },
	        error: function (xhr, ajaxOptions, thrownError) {
	        //displaying error in preloader
	        	$('#loading_msg').text("Something went wrong while fetching data from storage file data.json: " + thrownError).css("color", 'red');

	        	// updateUI(null);
	      	}
	    });

	//function to update UI from data fetched from json file
		function updateUI(json) 
		{
			if( json ) 
			{
			//if valid json
				for (var key in json) 
				{
				    if (json.hasOwnProperty(key)) 
				    {
				    //getting val from json	
				    	var val = json[key];

				    //generating html for different titles
				    	var html = "";
				    	if(key == "contactLink") {
				    	//setting data
				    		var data = val;

				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
				    	} else if(key == "contacts") {
				    	//setting data
				    		var data = val;

				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
				    	} else if(key == "education") {
				    	//setting heading
				    		var heading = val.heading;
				    		$('#sectionEducation h4 strong').text(heading);

				    	//setting data
				    		html += '<tr><td class="header"><strong>Year</strong></td><td class="header"><strong>Degree / Certificate</strong></td><td class="header"><strong>Institute / Board</strong></td><td class="header"><strong>CGPA/Percentage</strong></td></tr>';
				    		var data = val.data;
				    		for(var k in data) {
				    			var year = data[k].year;
				    			var degree = data[k].degree;
				    			var institute = data[k].institute;
				    			var grade = data[k].grade;

				    			html += "<tr><td>" + year + "</td><td>" + degree + "</td><td>" + institute + "</td><td>" + grade + "</td></tr>";
				    		}
				    	} else if(key == "experience") {
				    	//setting heading
				    		var heading = val.heading;
				    		$('#sectionExperience h4 strong').text(heading);
				    		// console.log(heading);

				    	//setting data
				    		var data = val.data;
				    		for(var k in data) {
				    			var job_title = data[k].job_title;
				    			var job_duration = data[k].job_duration;
				    			var job_company_link = data[k].job_company_link;
				    			var company_name = data[k].company_name;
				    			var details = data[k].details;

				    			html += '<li class="li"><div><div class="title">' + job_title + '</div><div class="time right" >' + job_duration + '</div></div><div><div class="link right">' + job_company_link + '</div><div class="company_name">' + company_name + '</div><ul class="circle" style="margin-left: 0px; padding-left: 25px;">';
				    			for(var i = 0; i < details.length; i++) {
				    				var did_this = details[i];

				    				html += "<li>" + did_this + "</li>"
				    			}
				    			html += "</ul></div></li>";
				    		}
				    	} else if(key == "projects") {
				    	//setting heading
				    		var heading = val.heading;
				    		$('#sectionProjects h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var k in data) {
				    			var project_title = data[k].project_title;
				    			var project_duration = data[k].project_duration;
				    			var project_link = data[k].project_link;
				    			var company_name = data[k].company_name;
				    			var details = data[k].details;

				    			html += '<li class="li"><div><div class="title">' + project_title + '</div><div class="time right" >' + project_duration + '</div></div><div><div class="link right">' + project_link + '</div><div class="company_name">' + company_name + '</div><ul class="circle" style="margin-left: 0px; padding-left: 25px;">';
				    			for(var i = 0; i < details.length; i++) {
				    				var did_this = details[i];

				    				html += "<li>" + did_this + "</li>"
				    			}
				    			html += "</ul></div></li>";
				    		}
				    	} else if(key == "skills") {
				    	//setting heading
				    		var heading = val.heading;
				    		$('#sectionSkills h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    		} else if(key == "pors") {
			    		//setting heading
				    		var heading = val.heading;
				    		$('#sectionResponsibility h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    		} else if(key == "achievements") {
			    		//setting heading
				    		var heading = val.heading;
				    		$('#sectionAchievements h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    		} else if(key == "publications") {
			    		//setting heading
				    		var heading = val.heading;
				    		$('#sectionPublications h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var k in data) {
				    			var publication_title = data[k].publication_title;
				    			var published_at = data[k].published_at;
				    			var mentors = data[k].mentors;

				    			html += '<li><div><div class="title">' + publication_title + '</div><div class="time right">' + published_at + '</div></div><div><div class="mentor">' + mentors + '</div></div></li>';
				    		}
				    	} else if(key == "courses") {
			    		//setting heading
				    		var heading = val.heading;
				    		$('#sectionCourses h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		html += '<div class="row"><div class="col-sm-6 data1">';
				    		var data1 = val.data1;
				    		for(var i = 0; i < data1.length; i++) {
			    				var did_this = data1[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    			html += '</div><div class="col-sm-6 data2">';

				    		var data2 = val.data2;
				    		for(var i = 0; i < data2.length; i++) {
			    				var did_this = data2[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    			html += '</div></div>';

			    			var note = val.note;
							html += '<div class="star light"><i>' + note + '</i></div>';			    			
				    	} else if(key == "cirrculars") {
			    		//setting heading
				    		var heading = val.heading;
				    		$('#sectionCurricular h4 strong').text(heading);
				    		// console.log(heading);
				    		
				    	//setting data
				    		var data = val.data;
				    		for(var i = 0; i < data.length; i++) {
			    				var did_this = data[i];

			    				html += "<li>" + did_this + "</li>"
			    			}
			    		} else if(key == "isImageVisible") {
			    			if( val == true ) {
			    				$('#image_box').css("display", "block");

			    				$('#imageShow').addClass("selected");
			    				$('#imageHide').removeClass("selected");
			    			} else {
			    				$('#image_box').css("display", "none");

			    				$('#imageHide').addClass("selected");
			    				$('#imageShow').removeClass("selected");
			    			}
				    	} else {
				    		var html = val.replace("\n", "<br />"); // to break word
				    	}

			    	//updating UI
				       	$('#' + key).html(html);
				    }
				}
			}
		}

	//on clicking on add educ_row btn
		$('.add_educ_row').on("click", function()
		{
			var text = $.trim($(this).text());
			
			var sampleHTML = "<tr><td></td><td></td><td></td><td></td></tr>";
		
			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#education').html();
				
				$('#education').html(html);
			} else if ( text == "Last" ) {
				$('#education').append(sampleHTML);
			}
		});
	
	//on clicking on add experince btn
		$('.add_exp_row').on("click", function()
		{
			var text = $.trim($(this).text());

			var sampleHTML = '<li class="li"><div><div class="title">job_title</div><div class="time right" >job_duration</div></div><div><div class="link right">job_company_link</div><div class="company_name">company_name</div><ul class="circle" style="margin-left: 0px; padding-left: 25px;"><li>did this did that</li><li>did this too</li></ul></div></li>';

			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#experience').html();
				
				$('#experience').html(html);
			} else if ( text == "Last" ) {
				$('#experience').append(sampleHTML);
			}
		});

	//on clicking on add proejcts btn
		$('.add_projects_row').on("click", function()
		{
			var text = $.trim($(this).text());

			var sampleHTML = '<li class="li"><div><div class="title">project_title</div><div class="time right" >project_duration</div></div><div><div class="link right">project_link</div><div class="company_name">company_name/project guide</div><ul class="circle" style="margin-left: 0px; padding-left: 25px;"><li>did this did that</li><li>did this too</li></ul></div></li>';

			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#projects').html();
				
				$('#projects').html(html);
			} else if ( text == "Last" ) {
				$('#projects').append(sampleHTML);
			}
		});

	//on clicking on add skills btn
		$('.add_skills_row').on("click", function()
		{
			var text = $.trim($(this).text());

			var sampleHTML = '<li><b>skill type: </b>skill 1, skill 2';

			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#skills').html();
				
				$('#skills').html(html);
			} else if ( text == "Last" ) {
				$('#skills').append(sampleHTML);
			}
		});
		
	//on clicking on add por btn
		$('.add_por_row').on("click", function()
		{
			var text = $.trim($(this).text());

			var sampleHTML = '<li>write por post, location (duration)';

			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#pors').html();
				
				$('#pors').html(html);
			} else if ( text == "Last" ) {
				$('#pors').append(sampleHTML);
			}
		});
		
	//on clicking on add achievements btn
		$('.add_achieve_row').on("click", function()
		{
			var text = $.trim($(this).text());

			var sampleHTML = '<li><b>achievement at:</b> graded A + here';

			if( text == "First" ) {
				var html = sampleHTML;
				html += $('#achievements').html();
				
				$('#achievements').html(html);
			} else if ( text == "Last" ) {
				$('#achievements').append(sampleHTML);
			}
		});
		
	//when publication visibility is changed
		$('.publication_visibility').on("click", function()
		{
			var text = $.trim($(this).text());

			toogle_publication_visibility(text);
		});

		function toogle_publication_visibility (to_do) {
			if(to_do == "Show") {
				$('#sectionPublications').fadeIn(0);
			} else if(to_do == "Hide") {
				$('#sectionPublications').fadeOut(0);
			}

			$(this).addClass('selected');
		}

	//when courses visibility is changed
		$('.courses_visibility').on("click", function()
		{
			var text = $.trim($(this).text());

			toogle_courses_visibility(text);
		});

		function toogle_courses_visibility (to_do) {
			if(to_do == "Show") {
				$('#sectionCourses').fadeIn(0);
			} else if(to_do == "Hide") {
				$('#sectionCourses').fadeOut(0);
			}

			$(this).addClass('selected');
		}

	//when courses visibility is changed
		$('.circular_visibility').on("click", function()
		{
			var text = $.trim($(this).text());

			toogle_circular_visibility(text);
		});

		function toogle_circular_visibility (to_do) {
			if(to_do == "Show") {
				$('#sectionCurricular').fadeIn(0);
			} else if(to_do == "Hide") {
				$('#sectionCurricular').fadeOut(0);
			}

			$(this).addClass('selected');
		}

	//when courses visibility is changed
		$('.footer_visibility').on("click", function()
		{
			var text = $.trim($(this).text());

			toogle_footer_visibility(text);
		});

		function toogle_footer_visibility (to_do) {
			if(to_do == "Show") {
				$('#sectionFooterMessage').fadeIn(0);
			} else if(to_do == "Hide") {
				$('#sectionFooterMessage').fadeOut(0);
			}

			$(this).addClass('selected');
		}
	
	//on clicking on save btn
		$('#save_btn').on("click", function()
		{
			var jsonToSend = [];
			var jsonToStore = {};

		//getting image data
			var imageVisibility = $('#image_box').css('display');
			if( imageVisibility == "none" ) {
				jsonToStore['isImageVisible'] = false;
			} else if ( imageVisibility == "block" ) {
				jsonToStore['isImageVisible'] = true;
			}

		//getting first name
			var html = $('#fName').html();
			jsonToStore['fName'] = html;
			
		//getting second name
			var html = $('#sName').html();
			jsonToStore['sName'] = html;
			
		//getting contact links
			var dataJSON = [];
			$('#contactLink li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			jsonToStore['contactLink'] = dataJSON;
			
		//getting contacts
			var dataJSON = [];
			$('#contacts li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			jsonToStore['contacts'] = dataJSON;
			
		//getting education
			var childJSON = {};
			childJSON["heading"] = $('#sectionEducation h4 strong').text().trim(); 
			
			var dataJSON = [];
			var i = 0;
			$('#education tr').each(function()
			{
				if(i>0) { //for ignoring table heading row 
					var temp = {};

					var year = $(this).find("td:nth-child(1)").text().trim();
					var degree = $(this).find("td:nth-child(2)").text().trim();
					var institute = $(this).find("td:nth-child(3)").text().trim();
					var grade = $(this).find("td:nth-child(4)").text().trim();

					temp["year"] = year;
					temp["degree"] = degree;
					temp["institute"] = institute;
					temp["grade"] = grade;

					dataJSON.push(temp);
				}
				i++;
			});
			childJSON["data"] = dataJSON;

			jsonToStore['education'] = childJSON;

		//getting experience
			var childJSON = {};
			childJSON["heading"] = $('#sectionExperience h4 strong').text().trim(); 

			var dataJSON = [];
			$('#experience .li').each(function()
			{
				var temp = {};

				var job_title = $(this).find(".title").text().trim();
				var job_duration = $(this).find(".time").text().trim();
				var job_company_link = $(this).find(".link").text().trim();
				var company_name = $(this).find(".company_name").text().trim();

				temp["job_title"] = job_title;
				temp["job_duration"] = job_duration;
				temp["job_company_link"] = job_company_link;
				temp["company_name"] = company_name;

				var detailsJSON = [];
				$(this).find(".circle li").each(function() {
					var detail = $(this).text().trim();
					detailsJSON.push(detail);
				});

				temp["details"] = detailsJSON;

				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			
			jsonToStore['experience'] = childJSON;

		//getting projects
			var childJSON = {};
			childJSON["heading"] = $('#sectionProjects h4 strong').text().trim(); 

			var dataJSON = [];
			$('#projects .li').each(function()
			{
				var temp = {};

				var project_title = $(this).find(".title").text().trim();
				var project_duration = $(this).find(".time").text().trim();
				var project_link = $(this).find(".link").text().trim();
				var company_name = $(this).find(".company_name").text().trim();

				temp["project_title"] = project_title;
				temp["project_duration"] = project_duration;
				temp["project_link"] = project_link;
				temp["company_name"] = company_name;

				var detailsJSON = [];
				$(this).find(".circle li").each(function() {
					var detail = $(this).text().trim();
					detailsJSON.push(detail);
				});

				temp["details"] = detailsJSON;

				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			
			jsonToStore['projects'] = childJSON;

		//getting skills
			var childJSON = {};
			childJSON["heading"] = $('#sectionSkills h4 strong').text().trim(); 

			var dataJSON = [];
			$('#skills li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			
			jsonToStore['skills'] = childJSON;

		//getting pors
			var childJSON = {};
			childJSON["heading"] = $('#sectionResponsibility h4 strong').text().trim(); 

			var dataJSON = [];
			$('#pors li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			jsonToStore['pors'] = childJSON;

		//getting achievements
			var childJSON = {};
			childJSON["heading"] = $('#sectionAchievements h4 strong').text().trim(); 

			var dataJSON = [];
			$('#achievements li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			jsonToStore['achievements'] = childJSON;

		//getting publications
			var childJSON = {};
			childJSON["heading"] = $('#sectionPublications h4 strong').text().trim(); 

			var dataJSON = [];
			$('#publications li').each(function()
			{
				var temp = {};

				var publication_title = $(this).find(".title").text().trim();
				var published_at = $(this).find(".time").text().trim();
				var mentors = $(this).find(".mentor").text().trim();

				temp["publication_title"] = publication_title;
				temp["published_at"] = published_at;
				temp["mentors"] = mentors;

				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			
			jsonToStore['publications'] = childJSON;

		//getting courses
			var childJSON = {};
			childJSON["heading"] = $('#sectionCourses h4 strong').text().trim(); 

			var dataJSON = [];
			$('#courses .data1 li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data1"] = dataJSON;

			var dataJSON = [];
			$('#courses .data2 li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data2"] = dataJSON;
			jsonToStore['courses'] = childJSON;

		//getting cirrculars
			var childJSON = {};
			childJSON["heading"] = $('#sectionCurricular h4 strong').text().trim(); 

			var dataJSON = [];
			$('#cirrculars li').each(function()
			{
				var temp = $(this).html().trim();
				
				dataJSON.push(temp);
			});
			childJSON["data"] = dataJSON;
			jsonToStore['cirrculars'] = childJSON;

		//getting footer
			var html = $('#footerMsg').html();
			jsonToStore['footerMsg'] = html;
		
		//printing	
			jsonToSend.push(jsonToStore);

			console.log((jsonToSend));

			$.post("write_json.php", {jsonToSend: JSON.stringify(jsonToSend)}, function(resp)
			{
				console.log(resp);
			})
		});
	</script>
</body>
</html>